{
  "id": "bpmn-type-bpmn:EcosTaskSetStatus",
  "formKey": "",
  "title": {
    "en": "BPMN Set Status Task Form"
  },
  "description": {},
  "customModule": null,
  "typeRef": "",
  "width": "lg",
  "system": true,
  "i18n": {
    "ru": {
      "task_priority_low": "Низкий",
      "task_priority_medium": "Средний",
      "task_priority_high": "Высокий"
    },
    "en": {
      "task_priority_low": "Low",
      "task_priority_medium": "Medium",
      "task_priority_high": "High"
    }
  },
  "definition": {
    "components": [
      {
        "label": "load statuses",
        "source": {
          "type": "recordsScript",
          "recordsScript": {
            "script": "let ref = instance.options.editor.getEcosType();\n\nif (!!ref) {\n  value = ref;\n}",
            "attributes": {
              "statusesData": "model.statuses[]{value:id,label:name}"
            }
          },
          "forceLoad": false
        },
        "update": {
          "type": "once",
          "rate": 300
        },
        "key": "statuses",
        "type": "asyncData",
        "input": true
      },
      {
        "label": {
          "ru": "ID элемента",
          "en": "Element ID"
        },
        "key": "id",
        "validate": {
          "required": true
        },
        "defaultValue": "",
        "refreshOn": [],
        "optionalWhenDisabled": false,
        "type": "textfield",
        "input": true,
        "addAnother": "ecos.forms.btn.add-another"
      },
      {
        "label": {
          "ru": "Имя",
          "en": "Name"
        },
        "key": "name_ml",
        "refreshOn": [],
        "optionalWhenDisabled": false,
        "type": "mlText",
        "input": true,
        "addAnother": "ecos.forms.btn.add-another"
      },
      {
        "label": {
          "ru": "Документация",
          "en": "Documentation"
        },
        "key": "documentation",
        "refreshOn": [],
        "optionalWhenDisabled": false,
        "type": "mlTextarea",
        "input": true,
        "addAnother": "ecos.forms.btn.add-another"
      },
      {
        "label": {
          "ru": "Статус",
          "en": "Status"
        },
        "key": "status",
        "tooltip": {
          "ru": "Выбор доступных статусов из типа ecos",
          "en": "Selection of available statuses from ecos type"
        },
        "validate": {
          "required": true
        },
        "dataSrc": "custom",
        "data": {
          "custom": "const statuses = _.get(data, 'statuses.statusesData') || [];\nconst filtered = statuses.filter(status => !['ANY', 'EMPTY'].includes(status.value));\n\nvalues = filtered;"
        },
        "defaultValue": "",
        "refreshOn": [
          "statuses"
        ],
        "optionalWhenDisabled": false,
        "type": "ecosSelect",
        "input": true
      }
    ]
  },
  "attributes": {}
}
